<h1>채팅방 목록</h1>

<nav>
    <a href="make">채팅방 생성</a>
</nav>

<ul id="chatRoomList">
    <li th:each="room : ${rooms}">
        <a th:href="@{'/chat/room/' + ${room.id}}"><span th:text="${room.name}"></span></a>
    </li>
</ul>

<script>
    // rooms 데이터를 JavaScript로 활용하려면 Thymeleaf를 사용하여 데이터 삽입
    const rooms = /*[[${rooms}]]*/ []; // Thymeleaf에서 rooms 배열을 JavaScript로 삽입

    console.log(rooms); // 데이터를 확인

    // JavaScript로 추가적으로 동적인 작업이 필요할 경우 사용
    rooms.forEach(room => {
        const listItem = document.createElement("li");
        listItem.innerHTML = `<a href="/chat/room/${room.id}">${room.name}</a>`;
        document.getElementById("chatRoomList").appendChild(listItem);
    });
</script>